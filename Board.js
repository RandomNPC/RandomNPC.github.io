var SPACE_LIMIT_X = 10;var SPACE_LIMIT_Y = 10;var ROW_QTY_LIMIT = 10;var ROW_LIMIT = 10;var IMG_REF = new Image();IMG_REF.src = 'button.png';var IMG_REF_PRESS = new Image();IMG_REF_PRESS.src = 'buttonpress.png';soundList = [];//Assume using same image length and width;function Point(x,y){	this.x = x;	this.y = y;}function Sound(coords,sound,image){	this.coords = coords;	this.sound = sound;	this.image = image;}function render(){	for(i = 0; i < soundList.length; i++)	{		var current = soundList[i];				//set draw position at top left corner		var drawX = current.coords.x - current.image.width/2;		var drawY = current.coords.y - current.image.height/2;				var canvas = document.getElementById("myCanvas");		var ctx = canvas.getContext("2d");		ctx.drawImage(current.image,drawX,drawY);	}}function drawPressedButton(button){	var canvas = document.getElementById("myCanvas");	var ctx = canvas.getContext("2d");		ctx.clearRect(0,0,window.innerWidth,window.innerHeight);		for(i=0; i<soundList.length; i++)	{		var current = soundList[i];				var drawX = current.coords.x - current.image.width/2;		var drawY = current.coords.y - current.image.height/2;				if(i==button)		{			ctx.drawImage(IMG_REF_PRESS,drawX,drawY);			setTimeout(function(){				ctx.clearRect(0,0,window.innerWidth,window.innerHeight);				render();			},120);		}		else		{			ctx.drawImage(current.image,drawX,drawY);		}	}	}function checkOnClick(e){	var click_x = e.clientX;	var click_y = e.clientY;		for(i = 0; i < soundList.length; i++)	{		var current = soundList[i];		//delta positioning check		//current: center of position				var x_delta = Math.abs(current.coords.x - click_x);		var y_delta = Math.abs(current.coords.y - click_y);				//compare against image delta lengths (bounds)				var image_deltaX = current.image.width/2;		var image_deltaY = current.image.height/2;				if(x_delta < image_deltaX && y_delta < image_deltaY)		{			drawPressedButton(i);			current.sound.play();		}	}}function updatePositions(){	//initial position	var xPos = 0;	var yPos = 0;	var xLimits = window.innerWidth - xPos;	var yLimits = window.innerHeight - yPos;		var rowQty = Math.round(xLimits/IMG_REF.width);	if(rowQty > ROW_QTY_LIMIT)	{		rowQty = ROW_QTY_LIMIT;	}		var xDelta = (xLimits - rowQty*IMG_REF.width)/(rowQty+1);	if(xDelta < SPACE_LIMIT_X)	{		xDelta = SPACE_LIMIT_X;	}		var n_row = Math.ceil(soundList.length/rowQty);		var yDelta = (yLimits - n_row*IMG_REF.height)/(n_row+1);	if(yDelta > SPACE_LIMIT_Y)	{		yDelta = SPACE_LIMIT_Y;		console.log('WARNING: distance between images may cause some images not to appear.');	}		//Warning	var projectedHeight = (n_row+1)*yDelta + n_row*IMG_REF.height;	if(projectedHeight > yLimits)	{		console.log('WARNING: Not enough height for all images to render completely.');	}		//rowQty	//n_row	//xDelta	//yDelta		var inc = 0;		for(i = 0; i < n_row; i++)	{		for(j = 0; j < rowQty; j++){			var img = soundList[inc].image;			var current = soundList[inc].coords;			current.x = (j+1)*xDelta + (j+0.5)*img.width;			current.y = (i+1)*yDelta + (i+0.5)*img.height;			inc++;			if(inc >= soundList.length) return;		}	}}function addSound(sound,image){	var point = new Point(0,0);	var newsound = new Sound(point,sound,image);	soundList.push(newsound);}window.onload = function(){	var canvas = document.getElementById("myCanvas");	canvas.width = window.innerWidth;	canvas.height = window.innerHeight;		for(test = 0; test < 9; test++)	{			//main function call		addSound(new Audio('moo.mp3'),IMG_REF);	}	updatePositions();	render();	window.addEventListener('click',checkOnClick,false);}